(this["webpackJsonpdashtar-admin"]=this["webpackJsonpdashtar-admin"]||[]).push([[19,4],{1240:function(e,t,a){"use strict";a.r(t);var s=a(35),n=a(0),l=a(64),c=a(633),r=a(53),o=a(651),i=a(662),d=a(658),u=a(659),p=a(672),g=a(664),b=a(89),m=a(684),j=a(673),h=a(668),x=a(90),O=a(92),y=a(846),f=a(65),v=a(669),w=a(667),C=a.n(w),N=a(2);var S=e=>{let{title:t,handleProcess:a,processOption:s,product:n,handleIsCombination:l}=e;return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{className:""+(n?"mb-3 flex flex-wrap justify-end items-center mr-8":"mb-3"),children:Object(N.jsxs)("div",{className:"flex flex-wrap items-center",children:[n?Object(N.jsx)("label",{className:"block text-base font-normal text-orange-500 dark:text-orange-400 mx-4",children:"Does this product have variants?"}):Object(N.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:t}),Object(N.jsx)(C.a,{onChange:n?l:a,checked:s,className:"react-switch",uncheckedIcon:Object(N.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",fontSize:14,color:"white",paddingRight:45,paddingTop:1},children:"Fixed"}),width:125,height:33,handleDiameter:28,offColor:"#E53E3E",onColor:"#2F855A",checkedIcon:Object(N.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",fontSize:14,color:"white",paddingLeft:50,paddingTop:1},children:"Percentage"})})]})})})},T=a(660),k=a(171),A=a(168),D=a(177),P=a(649),I=a(15);var L=e=>{const{isDrawerOpen:t,closeDrawer:a,setIsUpdate:s,lang:l}=Object(n.useContext)(r.a),[c,o]=Object(n.useState)(""),[i,d]=Object(n.useState)(l),[u,p]=Object(n.useState)({}),[g,m]=Object(n.useState)(!1),[j,h]=Object(n.useState)(!1),[x,O]=Object(n.useState)(!1),y=Object(D.c)((e=>e.setting)),{settingItem:f}=y,v=f.find((e=>"globalSetting"===e.name)),w=(null===v||void 0===v?void 0:v.default_currency)||"$",{register:C,handleSubmit:N,setValue:S,clearErrors:T,formState:{errors:k}}=Object(A.a)();return Object(n.useEffect)((()=>{if(!t)return p({}),S("title"),S("productType"),S("couponCode"),S("endTime"),S("discountPercentage"),S("minimumAmount"),o(""),T("title"),T("productType"),T("couponCode"),T("endTime"),T("discountPercentage"),T("minimumAmount"),d(l),void S("language",i);e&&(async()=>{try{const s=await P.a.getCouponById(e);var t,a;if(s)p(s),S("title",s.title[i||"en"]),S("productType",s.productType),S("couponCode",s.couponCode),S("endTime",b(s.endTime).format("YYYY-MM-DD HH:mm")),S("discountPercentage",null===(t=s.discountType)||void 0===t?void 0:t.value),S("minimumAmount",s.minimumAmount),m("show"===s.status),h("percentage"===(null===(a=s.discountType)||void 0===a?void 0:a.type)),o(s.logo)}catch(l){var s,n;Object(I.b)(l?null===l||void 0===l||null===(s=l.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message:l.message)}})()}),[e,S,t,T,i,l]),{register:C,handleSubmit:N,onSubmit:async t=>{console.log("coupon data",t);try{O(!0);const n={title:{[i]:t.title},couponCode:t.couponCode,endTime:t.endTime,minimumAmount:t.minimumAmount,logo:c,lang:i,status:g?"show":"hide",discountType:{type:j?"percentage":"fixed",value:t.discountPercentage},discountPercentage:t.discountPercentage,productType:t.productType};if(e){const t=await P.a.updateCoupon(e,n);s(!0),O(!1),Object(I.c)(t.message),a()}else{const e=await P.a.addCoupon(n);s(!0),O(!1),Object(I.c)(e.message),a()}}catch(r){var n,l;Object(I.b)(r?null===r||void 0===r||null===(n=r.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.message:r.message),O(!1),a()}},errors:k,setImageUrl:o,imageUrl:c,published:g,setPublished:m,currency:w,discountType:j,isSubmitting:x,setDiscountType:h,handleSelectLanguage:e=>{d(e),Object.keys(u).length>0&&S("title",u.title[e||"en"])}}},$=a(66),M=a(670);var _=e=>{let{id:t}=e;const{register:a,handleSubmit:n,onSubmit:l,errors:c,setImageUrl:r,imageUrl:o,published:i,setPublished:d,currency:u,discountType:p,setDiscountType:g,isSubmitting:b,handleSelectLanguage:m}=L(t);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"w-full relative  p-6 border-b border-gray-100 bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 ",children:t?Object(N.jsx)(T.a,{register:a,handleSelectLanguage:m,title:Object($.b)("UpdateCoupon"),description:Object($.b)("UpdateCouponDescription")}):Object(N.jsx)(T.a,{register:a,handleSelectLanguage:m,title:Object($.b)("AddCoupon"),description:Object($.b)("AddCouponDescription")})}),Object(N.jsx)(M.Scrollbars,{className:"w-full md:w-7/12 lg:w-8/12 xl:w-8/12 relative dark:bg-gray-700 dark:text-gray-200",children:Object(N.jsxs)("form",{onSubmit:n(l),children:[Object(N.jsxs)("div",{className:"px-6 pt-8 flex-grow scrollbar-hide w-full max-h-full pb-40",children:[Object(N.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(N.jsx)(f.a,{label:Object($.b)("CouponBannerImage")}),Object(N.jsx)("div",{className:"col-span-8 sm:col-span-4",children:Object(N.jsx)(k.a,{imageUrl:o,setImageUrl:r,folder:"coupon"})})]}),Object(N.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(N.jsx)(f.a,{label:Object($.b)("CampaignName")}),Object(N.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(N.jsx)(O.a,{register:a,label:"Coupon title",name:"title",type:"text",placeholder:Object($.b)("CampaignName")}),Object(N.jsx)(x.a,{errorName:c.title})]})]}),Object(N.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(N.jsx)(f.a,{label:Object($.b)("CampaignCode")}),Object(N.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(N.jsx)(O.a,{register:a,label:"Coupon Code",name:"couponCode",type:"text",placeholder:Object($.b)("CampaignCode")}),Object(N.jsx)(x.a,{errorName:c.couponCode})]})]}),Object(N.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(N.jsx)(f.a,{label:Object($.b)("CouponValidityTime")}),Object(N.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(N.jsx)(s.Input,{...a("endTime",{required:"Coupon Validation End Time"}),label:"Coupon Validation End Time",name:"endTime",type:"datetime-local",placeholder:Object($.b)("CouponValidityTime"),className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white"}),Object(N.jsx)(x.a,{errorName:c.endTime})]})]}),Object(N.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(N.jsx)(f.a,{label:Object($.b)("DiscountType")}),Object(N.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(N.jsx)(S,{handleProcess:g,processOption:p}),Object(N.jsx)(x.a,{errorName:c.discountType})]})]}),Object(N.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(N.jsx)(f.a,{label:Object($.b)("Discount")}),Object(N.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(N.jsx)(y.a,{product:!0,register:a,maxValue:p?99:1e3,minValue:1,label:"Discount",name:"discountPercentage",type:"number",placeholder:p?"Percentage":"Fixed Amount",currency:p?"%":u}),Object(N.jsx)(x.a,{errorName:c.discountPercentage})]})]}),Object(N.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(N.jsx)(f.a,{label:Object($.b)("MinimumAmount")}),Object(N.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(N.jsx)(y.a,{product:!0,register:a,maxValue:2e5,minValue:100,label:"Minimum Amount",name:"minimumAmount",type:"number",placeholder:Object($.b)("MinimumAmountPlasholder"),currency:p?"%":u}),Object(N.jsx)(x.a,{errorName:c.minimumAmount})]})]}),Object(N.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(N.jsx)(f.a,{label:Object($.b)("Published")}),Object(N.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(N.jsx)(v.a,{handleProcess:d,processOption:i}),Object(N.jsx)(x.a,{errorName:c.productType})]})]})]}),Object(N.jsx)(h.a,{id:t,title:"Coupon",isSubmitting:b})]})})]})},B=a(663),R=a(167),F=(a(647),a(9),a(169)),E=a(650),U=a(708);var V=e=>{let{lang:t,isCheck:a,setIsCheck:n,coupons:l}=e;const{data:c,loading:r}=Object(R.a)(P.a.getAllCoupons),{title:i,serviceId:d,handleModalOpen:p,handleUpdate:h}=Object(o.a)(c),{data:x}=Object(R.a)(F.a.getGlobalSetting),O=e=>{const{id:t,checked:s}=e.target;n([...a,t]),s||n(a.filter((e=>e!==t)))};return Object(N.jsxs)(N.Fragment,{children:[a.length<1&&Object(N.jsx)(B.a,{id:d,title:i}),a.length<2&&Object(N.jsx)(u.a,{children:Object(N.jsx)(_,{id:d})}),Object(N.jsx)(s.TableBody,{children:null===l||void 0===l?void 0:l.map(((e,n)=>{var l,c,r,o;return Object(N.jsxs)(s.TableRow,{children:[Object(N.jsx)(s.TableCell,{children:Object(N.jsx)(g.a,{type:"checkbox",name:null===e||void 0===e||null===(l=e.title)||void 0===l?void 0:l.en,id:e._id,handleClick:O,isChecked:null===a||void 0===a?void 0:a.includes(e._id)})}),Object(N.jsxs)(s.TableCell,{children:[Object(N.jsxs)("div",{className:"flex items-center",children:[null!==e&&void 0!==e&&e.logo?Object(N.jsx)(s.Avatar,{className:"hidden p-1 mr-2 md:block bg-gray-50 shadow-none",src:null===e||void 0===e?void 0:e.logo,alt:"product"}):Object(N.jsx)(s.Avatar,{src:"https://res.cloudinary.com/ahossain/image/upload/v1655097002/placeholder_kvepfp.png",alt:"product"}),Object(N.jsxs)("div",{children:[Object(N.jsx)("span",{className:"text-sm",children:Object(E.a)(null===e||void 0===e?void 0:e.title.en,t)})," "]})]})," "]}),Object(N.jsxs)(s.TableCell,{children:[" ",Object(N.jsxs)("span",{className:"text-sm",children:[" ",e.couponCode]})," "]}),Object(N.jsxs)(s.TableCell,{children:[" ",Object(N.jsxs)("span",{className:"text-sm font-semibold",children:[" ","percentage"===(null===e||void 0===e||null===(c=e.discountType)||void 0===c?void 0:c.type)?`${null===e||void 0===e||null===(r=e.discountType)||void 0===r?void 0:r.value}%`:`$${null===e||void 0===e||null===(o=e.discountType)||void 0===o?void 0:o.value}`]})," "]}),Object(N.jsx)(s.TableCell,{className:"text-center",children:Object(N.jsx)(m.a,{id:e._id,status:e.status})}),Object(N.jsx)(s.TableCell,{children:Object(N.jsx)("span",{className:"text-sm",children:Object(U.a)(e.updatedAt,null===x||void 0===x?void 0:x.default_date_format)})}),Object(N.jsx)(s.TableCell,{children:Object(N.jsx)("span",{className:"text-sm",children:Object(U.a)(e.updatedAt,null===x||void 0===x?void 0:x.default_date_format)})}),Object(N.jsx)(s.TableCell,{className:"align-middle ",children:b().isAfter(b(e.endTime))?Object(N.jsx)(s.Badge,{type:"danger",children:"Expired"}):Object(N.jsx)(s.Badge,{type:"success",children:"Active"})}),Object(N.jsx)(s.TableCell,{children:Object(N.jsx)(j.a,{id:null===e||void 0===e?void 0:e._id,isCheck:a,handleUpdate:h,handleModalOpen:p,title:Object(E.a)(null===e||void 0===e?void 0:e.title[t],t)})})]},n+1)}))})]})},q=a(665);var z=[{_id:"612a3805ea43af2750ca33ba",title:"August Gift Voucher",couponCode:"AUGUST21",endTime:"2021-08-31T06:00:00Z",discountPercentage:20,minimumAmount:1e3,productType:"Grocery",logo:"https://i.ibb.co/PDLPDHc/ins1.jpg",createdAt:"2021-08-15T13:20:05.898Z",updatedAt:"2021-10-15T09:21:29.795Z",status:"expired"},{_id:"612a45d4ea43af2750ca33d4",title:"Winter Gift Voucher",couponCode:"WINTER21",endTime:"2022-01-31T01:22:00Z",discountPercentage:12,minimumAmount:350,productType:"Cloths",logo:"https://i.ibb.co/4thS4Z1/ins2.jpg",createdAt:"2021-06-20T14:19:00.767Z",updatedAt:"2021-11-20T14:26:18.873Z",status:"available"},{_id:"612a4790ea43af2750ca33e3",title:"Summer Gift Voucher",couponCode:"SUMMER21",endTime:"2021-10-31T01:21:00Z",discountPercentage:15,minimumAmount:500,productType:"Grocery",logo:"https://i.ibb.co/wBBYm7j/ins4.jpg",createdAt:"2021-04-13T14:26:24.137Z",status:"available",updatedAt:"2021-11-15T19:21:45.041Z"},{_id:"614896fbfeb72600163babfe",title:"October Gift Voucher",couponCode:"BLACKFRIDAY21",endTime:"2021-12-31T14:16:00Z",discountPercentage:10,minimumAmount:300,productType:"Grocery",logo:"https://i.ibb.co/23kQcB9/ins3.jpg",createdAt:"2021-09-20T14:13:15.650Z",updatedAt:"2021-11-25T19:16:31.930Z",status:"expired"}],J=a(685);t.default=()=>{const{toggleDrawer:e,lang:t}=Object(n.useContext)(r.a),[a,b]=Object(n.useState)(!1),[m,j]=Object(n.useState)([]),{allId:h,serviceId:x,handleDeleteMany:O,handleUpdateMany:y}=Object(o.a)(),{data:f,loading:v}=Object(R.a)(P.a.getAllCoupons),{handleSubmitCoupon:w,couponRef:C,dataTable:S,serviceData:T,totalResults:k,resultsPerPage:A,handleChangePage:D}=Object(i.a)(f),{t:I}=Object(c.a)();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(d.a,{children:I("CouponspageTitle")}),Object(N.jsx)(B.a,{ids:h,setIsCheck:j,title:"Selected Coupon"}),Object(N.jsx)(J.a,{ids:h,title:"Coupons"}),Object(N.jsx)(u.a,{children:Object(N.jsx)(_,{id:x})}),Object(N.jsx)(s.Card,{className:"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5",children:Object(N.jsx)(s.CardBody,{children:Object(N.jsxs)("form",{onSubmit:w,className:"py-3 grid gap-4 lg:gap-6 xl:gap-6  xl:flex",children:[Object(N.jsx)("div",{className:"flex justify-start xl:w-1/2  md:w-full"}),Object(N.jsxs)("div",{className:"lg:flex  md:flex xl:justify-end xl:w-1/2  md:w-full md:justify-start flex-grow-0",children:[Object(N.jsx)("div",{className:"w-full md:w-40 lg:w-40 xl:w-40 mr-3 mb-3 lg:mb-0",children:Object(N.jsxs)(s.Button,{disabled:m.length<1,onClick:()=>y(m),className:"w-full rounded-md h-12 btn-gray text-gray-600",children:[Object(N.jsx)("span",{className:"mr-2",children:Object(N.jsx)(l.g,{})}),I("BulkAction")]})}),Object(N.jsx)("div",{className:"w-full md:w-32 lg:w-32 xl:w-32 mr-3 mb-3 lg:mb-0",children:Object(N.jsxs)(s.Button,{disabled:m.length<1,onClick:()=>O(m),className:"w-full rounded-md h-12 bg-red-500 btn-red",children:[Object(N.jsx)("span",{className:"mr-2",children:Object(N.jsx)(l.r,{})}),I("Delete")]})}),Object(N.jsx)("div",{className:"w-full md:w-48 lg:w-48 xl:w-48",children:Object(N.jsxs)(s.Button,{onClick:e,className:"w-full rounded-md h-12",children:[Object(N.jsx)("span",{className:"mr-2",children:Object(N.jsx)(l.j,{})}),I("AddCouponsBtn")]})})]})]})})}),Object(N.jsx)(s.Card,{className:"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5",children:Object(N.jsx)(s.CardBody,{children:Object(N.jsx)("form",{onSubmit:w,className:"py-3 grid gap-4 lg:gap-6 xl:gap-6 md:flex xl:flex",children:Object(N.jsx)("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:Object(N.jsx)(s.Input,{ref:C,type:"search",className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 border-transparent focus:bg-white",placeholder:I("SearchCoupon")})})})})}),v?Object(N.jsx)(p.a,{row:12,col:8,width:140,height:20}):0!==(null===T||void 0===T?void 0:T.length)?Object(N.jsxs)(s.TableContainer,{className:"mb-8",children:[Object(N.jsxs)(s.Table,{children:[Object(N.jsx)(s.TableHeader,{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)(s.TableCell,{children:Object(N.jsx)(g.a,{type:"checkbox",name:"selectAll",id:"selectAll",handleClick:()=>{b(!a),j(z.map((e=>e._id))),a&&j([])},isChecked:a})}),Object(N.jsx)(s.TableCell,{children:I("CoupTblCampaignsName")}),Object(N.jsx)(s.TableCell,{children:I("CoupTblCode")}),Object(N.jsx)(s.TableCell,{children:I("Discount")}),Object(N.jsx)(s.TableCell,{className:"text-center",children:I("catPublishedTbl")}),Object(N.jsx)(s.TableCell,{children:I("CoupTblStartDate")}),Object(N.jsx)(s.TableCell,{children:I("CoupTblEndDate")}),Object(N.jsx)(s.TableCell,{children:I("CoupTblStatus")}),Object(N.jsx)(s.TableCell,{className:"text-right",children:I("CoupTblActions")})]})}),Object(N.jsx)(V,{lang:t,isCheck:m,data:f,coupons:S,setIsCheck:j})]}),Object(N.jsx)(s.TableFooter,{children:Object(N.jsx)(s.Pagination,{totalResults:k,resultsPerPage:A,onChange:D,label:"Table navigation"})})]}):Object(N.jsx)(q.a,{title:"Sorry, There are no coupons right now."})]})}},644:function(e,t,a){"use strict";var s=a(9);const n={getAllCategory:async()=>s.a.get("/api/category/all"),getAllcategory:async()=>s.a.get("/api/category"),getCategoryById:async e=>(console.log("hi:",e),s.a.get(`/api/category/${e}`)),addCategory:async e=>s.a.post("/api/category/add",e),addAllCategory:async e=>s.a.post("/api/category/add/all",e),updateCategory:async(e,t)=>s.a.put(`/api/category/${e}`,t),updateStatus:async(e,t)=>s.a.put(`/api/category/status/${e}`,t),deleteCategory:async e=>{console.log("Request to delete category with ID:",e);try{const t=await s.a.delete(`/api/category/${e}`);return console.log("Response from backend:",t),t}catch(t){console.error("Error from backend:",t)}},updateManyCategory:async e=>{const{ids:t,status:a}=e;return s.a.patch("/api/category/update/many",{ids:t,status:a})},deleteManyCategory:async e=>s.a.patch("/api/category/delete/many",e)};t.a=n},645:function(e,t,a){"use strict";var s=a(9);const n={getAllLanguages:async()=>s.a.get("/api/language/all"),getShowingLanguage:async()=>s.a.get("/api/language/show"),getLanguageById:async e=>s.a.get(`/api/language/${e}`),addLanguage:async e=>s.a.post("/api/language/add",e),addAllLanguage:async e=>s.a.post("/api/language/add/all",e),updateLanguage:async(e,t)=>s.a.put(`/api/language/${e}`,t),updateManyLanguage:async e=>{const{ids:t,status:a}=e;return s.a.patch("/api/language/update/many",{ids:t,status:a})},updateStatus:async(e,t)=>s.a.put(`/api/language/status/${e}`,t),deleteLanguage:async e=>s.a.patch(`/api/language/${e}`),deleteManyLanguage:async e=>s.a.patch("/api/language/delete/many",e)};t.a=n},646:function(e,t,a){"use strict";var s=a(9),n=a(696);const l=Object(n.a)("http://localhost:5055"),c={getAllProducts:async()=>s.a.get("/api/products"),getProductById:async e=>s.a.get(`/api/products/product/${e}`),getProductBySlug:async e=>s.a.get(`/api/products/product/${e}`),addProduct:async e=>s.a.post("/api/products/add",e),addAllProducts:async e=>s.a.post("/api/products/all",e),updateProduct:async(e,t)=>(console.log("ids and bodyy : ",e,t),s.a.patch(`/api/products/${e}`,t)),updateManyProducts:async e=>s.a.patch("/api/products/update/many",e),updateStatus:async(e,t)=>{const a=await s.a.put(`/api/products/status/${e}`,t);return 200===a.status&&l.emit("updateStatus",e,t.status),a},subscribeToStatusUpdates:e=>{l.on("statusUpdate",e)},unsubscribeFromStatusUpdates:()=>{l.off("statusUpdate")},deleteProduct:async e=>s.a.delete(`/api/products/${e}`),deleteManyProducts:async e=>s.a.patch("/api/products/delete/many",e),addReview:async(e,t)=>(console.log("id",e),console.log("review",t),s.a.post(`/api/products/${e}/reviews`,t)),updateReview:async(e,t,a)=>{try{const n=await s.a.patch(`/api/products/${e}/reviews/${t}`,a);return console.log("Review updated successfully:",n),n}catch(n){throw console.error("Error updating review:",n.message),n}},deleteReview:async e=>{console.log("Review to be deleted:",e);try{const t=await s.a.delete(`/api/products/reviews/${e}`);return console.log("Review deleted successfully:",t),t}catch(t){throw console.error("Error deleting review:",t.message),t}},getRatingsForProduct:async e=>{try{const t=await s.a.get(`/api/products/${e}/ratings`);return console.log("=========================",t),t}catch(t){throw console.error("Error fetching ratings:",t.message),t}},setPaymentMethod:async(e,t)=>{console.log("hey",e),console.log("hi",t);try{const{icon:a,...n}=e,l=await s.a.post(`/api/products/${t}/payment`,n);return console.log("Response from server:",l.data),l}catch(a){throw console.error("Error setting default payment method:",a),a}},addAddress:async(e,t)=>(console.log("address",e),console.log("id",t),s.a.post(`/api/products/${t}/address`,{address:e})),getAddressByUserId:async e=>{try{return(await s.a.get(`/api/products/${e}/address`)).data}catch(t){throw console.error("Error fetching address:",t.message),t}},getPaymentMethodByProductId:async e=>{console.log("Fetching payment methods for product ID:",e);try{return(await s.a.get(`/api/products/${e}/payment`)).data}catch(t){throw console.error("Error fetching payment method:",t.message),t}}};t.a=c},647:function(e,t,a){"use strict";var s=a(9);const n={getAllAttributes:async e=>{let{type:t,option:a,option1:n}=e;return s.a.get("/api/attributes")},getShowingAttributes:async()=>s.a.get("/api/attributes/show"),addAttribute:async e=>s.a.post("/api/attributes/add",e),addAllAttributes:async e=>s.a.post("/api/attributes/add/all",e),addChildAttributes:async(e,t)=>(console.log("ids : ",e),console.log("Datas : ",t),s.a.put(`/api/attributes/add/child/${e}`,t)),getAttributeById:async e=>s.a.get(`/api/attributes/${e}`),updateAttributes:async(e,t)=>s.a.put(`/api/attributes/${e}`,t),updateChildAttributes:async(e,t)=>{let{id:a,ids:n}=e;return s.a.put(`/api/attributes/update/child/${n}/${a}`,t)},updateStatus:async(e,t)=>s.a.put(`/api/attributes/status/${e}`,t),updateChildStatus:async(e,t)=>s.a.put(`/api/attributes/status/child/${e}`,t),deleteAttribute:async e=>(console.log(":id ",e),s.a.delete(`/api/attributes/${e}`)),deleteChildAttribute:async(e,t)=>{let{id:a,ids:n}=e;return s.a.delete(`/api/attributes/delete/child/${n}/${a}`,t)},updateManyAttribute:async e=>s.a.patch("/api/attributes/update/many",e),deleteManyAttribute:async e=>{const{ids:t}=e;return s.a.delete("/api/attributes/delete/many",{data:{ids:t}})},updateManyChildAttribute:async e=>s.a.patch("/api/attributes/delete/child/many",e),deleteManyChildAttribute:async e=>s.a.patch("/api/attributes/delete/child/many",e)};t.a=n},648:function(e,t,a){"use strict";var s=a(9);const n={getAllCurrency:async()=>s.a.get("/api/currency"),updatePriorities:async e=>s.a.patch("/api/currency/update/priorities",e),getShowingCurrency:async e=>s.a.get("/api/currency/show"),getCurrencyById:async e=>s.a.get(`/api/currency/${e}`),addCurrency:async e=>s.a.post("/api/currency/add",e),addAllCurrency:async e=>s.a.post("/api/currency/add/all",e),updateCurrency:async(e,t)=>s.a.put(`/api/currency/${e}`,t),updateManyCurrencies:async e=>(console.log("udpates currencies",e),s.a.patch("/api/currency/update/many",e)),updateEnabledStatus:async(e,t)=>s.a.put(`/api/currency/status/enabled/${e}`,t),updateLiveExchangeRateStatus:async(e,t)=>s.a.put(`/api/currency/status/live-exchange-rates/${e}`,t),deleteCurrency:async e=>s.a.delete(`/api/currency/${e}`),deleteManyCurrency:async e=>s.a.patch("/api/currency/delete/many",e)};t.a=n},649:function(e,t,a){"use strict";var s=a(9);const n={addCoupon:async e=>s.a.post("/api/coupon/add",e),addAllCoupon:async e=>s.a.post("/api/coupon/add/all",e),getAllCoupons:async()=>s.a.get("/api/coupon"),getCouponById:async e=>s.a.get(`/api/coupon/${e}`),updateCoupon:async(e,t)=>s.a.put(`/api/coupon/${e}`,t),updateManyCoupons:async e=>{const{ids:t,status:a}=e;return s.a.patch("/api/coupon/update/many",{ids:t,status:a})},updateStatus:async(e,t)=>s.a.put(`/api/coupon/status/${e}`,t),deleteCoupon:async e=>s.a.delete(`/api/coupon/${e}`),deleteManyCoupons:async e=>s.a.patch("/api/coupon/delete/many",e)};t.a=n},650:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));const s=e=>{const t=[];return t.hasOwnProperty(e)?t[e]:e}},651:function(e,t,a){"use strict";var s=a(0),n=a(53);t.a=()=>{const[e,t]=Object(s.useState)(""),[a,l]=Object(s.useState)([]),[c,r]=Object(s.useState)(""),{toggleDrawer:o,isDrawerOpen:i,toggleModal:d,toggleBulkDrawer:u}=Object(s.useContext)(n.a);Object(s.useEffect)((()=>{i||t()}),[i]);return{title:c,allId:a,serviceId:e,handleUpdate:e=>{console.log("Updating serviceId with ID:",e),t(e),o()},setServiceId:t,handleModalOpen:(e,a)=>{console.log("id openss :",e),t(e),d(),r(a)},handleDeleteMany:async e=>{console.log("id manys : ",e),l(e),d(),r(c)},handleUpdateMany:e=>{console.log("Updating serviceId with ID:",e),l(e),u()}}}},654:function(e,t,a){"use strict";t.a=a.p+"static/media/spinner.da6beb0d.gif"},656:function(e,t,a){"use strict";a(0);var s=a(692),n=a(2);t.a=e=>{let{id:t,Icon:a,title:l,bgColor:c}=e;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("p",{"data-tip":!0,"data-for":t,className:"text-xl",children:Object(n.jsx)(a,{})}),Object(n.jsx)(s.a,{id:t,backgroundColor:c,children:Object(n.jsx)("span",{className:"text-sm font-medium",children:l})})]})}},658:function(e,t,a){"use strict";a(0);var s=a(2);t.a=e=>{let{children:t}=e;return Object(s.jsx)("h1",{className:"my-6 text-lg font-bold text-gray-700 dark:text-gray-300",children:t})}},659:function(e,t,a){"use strict";var s=a(53),n=a(676),l=a(0),c=a.n(l),r=a(12),o=a(2);const i=e=>{let{children:t,product:a}=e;const{toggleDrawer:c,isDrawerOpen:i,closeDrawer:d,windowDimension:u}=Object(l.useContext)(s.a),[p,g]=Object(l.useState)(!1),b=Object(r.useLocation)();return Object(l.useEffect)((()=>{"/products"===b.pathname&&g(!0)}),[]),Object(o.jsx)(n.a,{open:i,onClose:d,parent:null,level:null,placement:"right",width:""+(u<=575?"100%":a||p?"85%":"50%"),children:Object(o.jsx)("div",{className:"flex flex-col w-full h-full justify-between",children:t})})};t.a=c.a.memo(i)},660:function(e,t,a){"use strict";var s=a(0),n=a(167),l=a(645),c=a(53),r=a(2);var o=e=>{let{handleSelectLanguage:t,register:a}=e;const{data:o,loading:i,error:d}=Object(n.a)(l.a.getShowingLanguage),{lang:u}=Object(s.useContext)(c.a);return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("select",{name:"language",...a("language",{required:"language is required!"}),onChange:e=>t(e.target.value),className:"dark:border-gray-600 focus:shadow-none w-20 h-8 px-2 py-1 mt-1 text-gray-800 dark:text-gray-300 form-select outline-none text-sm focus:outline-none block rounded-md bg-gray-50 border-transparent focus:bg-white border-green-400 dark:bg-gray-700 focus:border-green-400 dark:focus:border-green-400 focus:ring focus:ring-green-200 dark:focus:ring-green-200",children:[Object(r.jsx)("option",{value:u,defaultChecked:!0,hidden:!0,children:u}),!d&&!i&&(null===o||void 0===o?void 0:o.map((e=>Object(r.jsxs)("option",{value:e.iso_code,children:[e.iso_code," "]},e._id))))]})})};t.a=e=>{let{title:t,description:a,handleSelectLanguage:s,register:n}=e;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"flex md:flex-row flex-col justify-between",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{className:"text-xl font-medium dark:text-gray-300",children:t}),Object(r.jsx)("p",{className:"mb-0 text-sm dark:text-gray-300",children:a})]}),s&&Object(r.jsx)(o,{handleSelectLanguage:s,register:n})]})})}},662:function(e,t,a){"use strict";var s=a(697),n=a.n(s),l=a(698),c=a.n(l),r=a(89),o=a(693),i=a.n(o),d=a(694),u=a.n(d),p=a(0),g=a(12),b=a(699),m=a(53),j=a(647),h=a(644),x=a(649),O=a(648),y=a(661),f=a(645),v=a(646),w=a(169),C=a(15),N=a(167);const S={type:"object",properties:{_id:{type:"string"},name:{type:"object"},description:{type:"object"},icon:{type:"string"},status:{type:"string"}},required:["name"]},T={type:"object",properties:{status:{type:"string"},title:{type:"object"},name:{type:"object"},variants:{type:"array"},option:{type:"string"},type:{type:"string"}},required:["name","title"]},k={type:"object",properties:{title:{type:"object"},couponCode:{type:"string"},endTime:{type:"string"},discountPercentage:{type:"number"},minimumAmount:{type:"number"},productType:{type:"string"},logo:{type:"string"},discountType:{type:"object"},status:{type:"string"}},required:["title","couponCode","endTime","status"]},A={type:"object",properties:{name:{type:"string"},email:{type:"string"}},required:["name","email"]};t.a=e=>{const t=new n.a({allErrors:!0}),[a,s]=Object(p.useState)(""),[l,o]=Object(p.useState)(""),[d,D]=Object(p.useState)(""),[P,I]=Object(p.useState)(""),[L,$]=Object(p.useState)(""),[M,_]=Object(p.useState)(""),[B,R]=Object(p.useState)(""),[F,E]=Object(p.useState)(""),[U,V]=Object(p.useState)(""),[q,z]=Object(p.useState)(""),[J,Z]=Object(p.useState)(""),[H,G]=Object(p.useState)(""),[Y,K]=Object(p.useState)(""),[Q,W]=Object(p.useState)(""),[X,ee]=Object(p.useState)([]),[te,ae]=Object(p.useState)([]),[se,ne]=Object(p.useState)([]),[le,ce]=Object(p.useState)(""),[re,oe]=Object(p.useState)(""),[ie,de]=Object(p.useState)(""),[ue,pe]=Object(p.useState)(1),[ge,be]=Object(p.useState)(10),[me,je]=Object(p.useState)([]),[he,xe]=Object(p.useState)(""),[Oe,ye]=Object(p.useState)(""),[fe,ve]=Object(p.useState)(""),[we,Ce]=Object(p.useState)([]),[Ne,Se]=Object(p.useState)(""),[Te,ke]=Object(p.useState)(!1),[Ae,De]=Object(p.useState)(""),[Pe]=Object(p.useState)([]),Ie=Object(p.useRef)(""),Le=Object(p.useRef)(""),$e=Object(p.useRef)(""),Me=Object(p.useRef)(""),_e=Object(p.useRef)(""),Be=Object(p.useRef)(""),Re=Object(p.useRef)(""),Fe=Object(p.useRef)(""),Ee=Object(p.useRef)(""),Ue=Object(p.useRef)(""),Ve=Object(p.useRef)("");r.extend(i.a),r.extend(u.a);const qe=Object(g.useLocation)(),{lang:ze,setIsUpdate:Je,setLoading:Ze}=Object(p.useContext)(m.a),{data:He}=Object(N.a)(w.a.getGlobalSetting),Ge=Object(p.useMemo)((()=>{const t=new Date;t.setDate(t.getDate()-ie);let s=null===e||void 0===e?void 0:e.map((e=>{const t=new Date(null===e||void 0===e?void 0:e.updatedAt).toLocaleString("en-US",{timeZone:null===He||void 0===He?void 0:He.default_time_zone});return{...e,updatedDate:"Invalid Date"===t?"":t}}));if("/dashboard"===qe.pathname){var n,c,o,i,u,p;const e=null===(n=s)||void 0===n?void 0:n.filter((e=>"Pending"===e.status));ee(e);const t=null===(c=s)||void 0===c?void 0:c.filter((e=>"Processing"===e.status));ae(t);const a=null===(o=s)||void 0===o?void 0:o.filter((e=>"Delivered"===e.status));ne(a);const l=null===(i=s)||void 0===i?void 0:i.filter((e=>r(e.createdAt).isToday())),d=null===l||void 0===l?void 0:l.reduce(((e,t)=>e+t.total),0);xe(d);const g=null===(u=s)||void 0===u?void 0:u.filter((e=>r(e.createdAt).isBetween((new Date).setDate((new Date).getDate()-30),new Date))),b=null===g||void 0===g?void 0:g.reduce(((e,t)=>e+t.total),0);ye(b);const m=null===(p=s)||void 0===p?void 0:p.reduce(((e,t)=>e+t.total),0);ve(m)}var g;(a&&"Category"!==a&&(s=s.filter((e=>e.parent===a)),console.log("hi",a)),"low"===l&&(s=s.sort(((e,t)=>e.originalPrice-t.originalPrice))),"high"===l&&(s=s.sort(((e,t)=>t.originalPrice-e.originalPrice))),"published"===l&&(s=s.filter((e=>"show"===e.status))),"unPublished"===l&&(s=s.filter((e=>"hide"===e.status))),"status-selling"===l&&(s=s.filter((e=>e.quantity>0))),"status-out-of-stock"===l&&(s=s.filter((e=>0===e.quantity))),"date-added-asc"===l&&(s=s.sort(((e,t)=>new Date(e.createdAt)-new Date(t.createdAt)))),"date-added-desc"===l&&(s=s.sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)))),"date-updated-asc"===l&&(s=s.sort(((e,t)=>new Date(e.updatedAt)-new Date(t.updatedAt)))),"date-updated-desc"===l&&(s=s.sort(((e,t)=>new Date(t.updatedAt)-new Date(e.updatedAt)))),d&&(s=s.filter((e=>{var t;return null===e||void 0===e||null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(d.toLowerCase())}))),F&&(s=s.filter((e=>{var t,a,s;return(null===e||void 0===e||null===(t=e.title[ze])||void 0===t||null===(a=t.toLowerCase())||void 0===a?void 0:a.includes(null===F||void 0===F?void 0:F.toLowerCase()))||(null===e||void 0===e||null===(s=e.attribute)||void 0===s?void 0:s.toLowerCase().includes(null===F||void 0===F?void 0:F.toLowerCase()))}))),B&&(s=s.filter((e=>{const{parent:t,children:a}=e,s=B.toLowerCase();return console.log("Category:",e),console.log("Lowercase Category Type:",s),t&&t.toLowerCase().includes(s)?(console.log("Parent Category Matched:",t),!0):!(!a||!a.some((e=>e.toLowerCase().includes(s))))&&(console.log("Child Category Matched:",a),!0)}))),re&&"All"!==re&&(s=s.filter((e=>e.role===re)),console.log("hi: ",s)),P&&(s=s.filter((e=>{var t,a,s;return(null===e||void 0===e||null===(t=e.name[ze])||void 0===t?void 0:t.toLowerCase().includes(P.toLowerCase()))||(null===e||void 0===e||null===(a=e.phone)||void 0===a?void 0:a.toLowerCase().includes(P.toLowerCase()))||(null===e||void 0===e||null===(s=e.email)||void 0===s?void 0:s.toLowerCase().includes(P.toLowerCase()))}))),L)&&(s=null===(g=s)||void 0===g?void 0:g.filter((e=>{var t,a,s;return(null===e||void 0===e||null===(t=e.title[ze])||void 0===t||null===(a=t.toLowerCase())||void 0===a?void 0:a.includes(null===L||void 0===L?void 0:L.toLowerCase()))||(null===e||void 0===e||null===(s=e.couponCode)||void 0===s?void 0:s.toLowerCase().includes(null===L||void 0===L?void 0:L.toLowerCase()))})));if(le&&"Status"!==le&&(s=s.filter((e=>e.status===le))),M&&(s=s.filter((e=>e.user_info.name.toLowerCase().includes(M.toLowerCase())))),ie&&"Order limits"!==ie&&(s=s.filter((e=>r(e.createdAt).isBetween(t,new Date)))),J&&H){const e=new Date(J),t=new Date(H);s=s.filter((a=>r(a.createdAt).isBetween(e,t))),console.log("datess herees :",s)}return U&&(s=s.filter((e=>{var t,a;return(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(U.toLowerCase()))||(null===e||void 0===e||null===(a=e.iso_code)||void 0===a?void 0:a.toLowerCase().includes(U.toLowerCase()))}))),Ae&&(s=s.filter((e=>null===e||void 0===e?void 0:e.name.toLowerCase().includes(Ae.toLowerCase())))),Y&&(s=s.filter((e=>{const t=e.name?e.name.toLowerCase():"",a=e.iso_code?e.iso_code.toLowerCase():"",s=e.language_code?e.language_code.toLowerCase():"";return t.includes(Y.toLowerCase())||a.includes(Y.toLowerCase())||s.includes(Y.toLowerCase())}))),Q&&(s=s.filter((e=>(e&&e.name?e.name.toLowerCase():"").includes(Q.toLowerCase())))),s}),[ie,e,qe.pathname,a,l,d,F,B,re,P,L,le,M,U,Ae,Y,Q,null===He||void 0===He?void 0:He.default_time_zone,ze]),Ye=null===Ge||void 0===Ge?void 0:Ge.length;Object(p.useEffect)((()=>{let e;if((null===Ge||void 0===Ge?void 0:Ge.length)>0){const t=(ue-1)*ge,a=Math.min(ue*ge,null===Ge||void 0===Ge?void 0:Ge.length);e=Ge.slice(t,a)}else e=Ge;F||B||P||L||le||M||U||Ae||Y||Q||d?(pe(1),be((null===Ge||void 0===Ge?void 0:Ge.length)||1),je(Ge)):(be(10),je(e))}),[Ge,ue,ge,a,l,d,F,B,re,P,L,le,M,U,Ae,Y,Q]),Object(p.useEffect)((()=>{const e=(null===Ge||void 0===Ge?void 0:Ge.length)||0,t=Math.min(ue*ge,e);t>0&&Math.min((ue-1)*ge+1,e)}),[Ge,ue,ge]);return{userRef:$e,searchRef:Le,couponRef:Me,orderRef:_e,categoryRef:Be,attributeRef:Re,pending:X,processing:te,delivered:se,todayOrder:he,monthlyOrder:Oe,totalOrder:fe,setFilter:s,setSortedField:o,setStatus:ce,setRole:oe,time:ie,setTime:de,handleChangePage:e=>{console.log("Changing page to:",e),pe(e)},totalResults:Ye,resultsPerPage:ge,dataTable:me,serviceData:Ge,handleSubmitUser:e=>{e.preventDefault(),I($e.current.value)},handleSubmitForAll:e=>{console.log("hi: ",Le.current.value),e.preventDefault(),D(Le.current.value),pe(1)},handleSubmitCoupon:e=>{e.preventDefault(),$(Me.current.value)},handleSubmitOrder:e=>{e.preventDefault(),_(_e.current.value)},handleSubmitCategory:e=>{console.log("hi : ",Be.current.value),e.preventDefault(),R(Be.current.value)},handleSubmitAttribute:e=>{e.preventDefault(),E(Re.current.value)},handleOnDrop:e=>{for(let t=0;t<e.length;t++)Pe.push(e[t].data)},handleUploadProducts:()=>{Pe.length<1?Object(C.b)("Please upload/select csv file first!"):v.a.addAllProducts(Pe).then((e=>{Object(C.c)(e.message)})).catch((e=>Object(C.b)(e.message)))},countryRef:Fe,country:U,setCountry:V,zone:q,setZone:z,startDate:J,setStartDate:Z,endDate:H,setEndDate:G,handleSubmitCountry:e=>{e.preventDefault(),V(Fe.current.value)},languageRef:Ee,handleSubmitLanguage:e=>{e.preventDefault(),K(Ee.current.value)},handleSelectFile:e=>{var t;e.preventDefault();const a=new FileReader,s=null===(t=e.target)||void 0===t?void 0:t.files[0];if(s&&"application/json"===s.type)Se(null===s||void 0===s?void 0:s.name),ke(!0),a.readAsText(s,"UTF-8"),a.onload=e=>{let t=JSON.parse(e.target.result),a=[];"/categories"===qe.pathname&&(a=t.map((e=>({_id:e._id,id:e.id,status:e.status,name:e.name,description:e.description,parentName:e.parentName,parentId:e.parentId,icon:e.icon})))),"/attributes"===qe.pathname&&(a=t.map((e=>({_id:e._id,status:e.status,title:e.title,name:e.name,variants:e.variants,option:e.option,type:e.type})))),"/coupons"===qe.pathname&&(a=t.map((e=>({title:e.title,couponCode:e.couponCode,endTime:e.endTime,discountPercentage:e.discountPercentage,minimumAmount:e.minimumAmount,productType:e.productType,logo:e.logo,discountType:e.discountType,status:e.status})))),"/customers"===qe.pathname&&(a=t.map((e=>({name:e.name,email:e.email,password:e.password,phone:e.phone})))),Ce(a)};else if(s&&"text/csv"===s.type)Se(null===s||void 0===s?void 0:s.name),ke(!0),a.onload=async e=>{const t=e.target.result,a=await c()().fromString(t);console.log("json",a);let s=[];"/categories"===qe.pathname&&(s=a.map((e=>({_id:e._id,id:e.id,status:e.status,name:JSON.parse(e.name),description:JSON.parse(e.description),parentName:e.parentName,parentId:e.parentId,icon:e.icon})))),"/attributes"===qe.pathname&&(s=a.map((e=>({status:e.status,title:JSON.parse(e.title),name:JSON.parse(e.name),variants:JSON.parse(e.variants),option:e.option,type:e.type})))),"/coupons"===qe.pathname&&(s=a.map((e=>({title:JSON.parse(e.title),couponCode:e.couponCode,endTime:e.endTime,discountPercentage:e.discountPercentage?JSON.parse(e.discountPercentage):0,minimumAmount:e.minimumAmount?JSON.parse(e.minimumAmount):0,productType:e.productType,logo:e.logo,status:e.status})))),"/customers"===qe.pathname&&(s=a.map((e=>({name:e.name,email:e.email,password:e.password,phone:e.phone})))),Ce(s)},a.readAsText(s);else{Se(null===s||void 0===s?void 0:s.name),ke(!0);const e=!!a.readAsBinaryString;a.onload=function(t){const a=t.target.result,s=b.a(a,{type:e?"binary":"array",bookVBA:!0}),n=s.SheetNames[0],l=s.Sheets[n],c=b.b.sheet_to_json(l);let r=[];"/categories"===qe.pathname&&(r=c.map((e=>({_id:e._id,id:e.id,status:e.status,name:JSON.parse(e.name),description:JSON.parse(e.description),parentName:e.parentName,parentId:e.parentId,icon:e.icon})))),"/attributes"===qe.pathname&&(r=c.map((e=>({status:e.status,title:JSON.parse(e.title),name:JSON.parse(e.name),variants:JSON.parse(e.variants),option:e.option,type:e.type})))),"/coupons"===qe.pathname&&(r=c.map((e=>({title:JSON.parse(e.title),couponCode:e.couponCode,endTime:e.endTime,discountPercentage:e.discountPercentage,minimumAmount:e.minimumAmount,productType:e.productType,logo:e.logo,status:e.status})))),"/customers"===qe.pathname&&(r=c.map((e=>({name:e.name,email:e.email,password:e.password?e.password:"null",phone:e.phone?e.phone:"null"})))),Ce(r)},e?a.readAsBinaryString(s):a.readAsArrayBuffer(s)}},handleUploadMultiple:e=>{if(Object(C.b)("This feature is disabled for demo!"),we.length>1){if("/categories"===qe.pathname){Ze(!0);const e=e=>!0===e;we.map((e=>t.validate(S,e))).every(e)?h.a.addAllCategory(we).then((e=>{Ze(!1),Je(!0),Object(C.c)(e.message)})).catch((e=>{Ze(!1),Object(C.b)(e?e.response.data.message:e.message)})):Object(C.b)("Please enter valid data!")}if("/customers"===qe.pathname){Ze(!0);let e=we.map((e=>t.validate(A,e)));const a=e=>!0===e,s=e.every(a);console.log(s),console.log(e),s?y.a.addAllCustomers(we).then((e=>{Ze(!1),Je(!0),Object(C.c)(e.message)})).catch((e=>{Ze(!1),Object(C.b)(e?e.response.data.message:e.message)})):Object(C.b)("Please enter valid data!")}if("/coupons"===qe.pathname){Ze(!0);const e=e=>!0===e;we.map((e=>t.validate(k,e))).every(e)?x.a.addAllCoupon(we).then((e=>{Ze(!1),Je(!0),Object(C.c)(e.message)})).catch((e=>{Ze(!1),Object(C.b)(e?e.response.data.message:e.message)})):Object(C.b)("Please enter valid data!")}if("/attributes"===qe.pathname){Ze(!0);const e=e=>!0===e;we.map((e=>t.validate(T,e))).every(e)?j.a.addAllAttributes(we).then((e=>{Ze(!1),Je(!0),Object(C.c)(e.message)})).catch((e=>{Ze(!1),Object(C.b)(e?e.response.data.message:e.message)})):Object(C.b)("Please enter valid data!")}"/languages"===qe.pathname&&f.a.addAllLanguage(we).then((e=>{Je(!0),Object(C.c)(e.message)})).catch((e=>Object(C.b)(e?e.response.data.message:e.message))),"/currencies"===qe.pathname&&O.a.addAllCurrency(we).then((e=>{Je(!0),Object(C.c)(e.message)})).catch((e=>Object(C.b)(e?e.response.data.message:e.message)))}else Object(C.b)("Please select a valid .JSON/.CSV/.XLS file first!")},filename:Ne,isDisabled:Te,handleRemoveSelectFile:e=>{Se(""),Ce([]),setTimeout((()=>ke(!1)),1e3)},taxRef:Ue,currencyRef:Ie,handleSubmitCurrency:e=>{e.preventDefault(),W(Ie.current.value)},handleSubmitShipping:e=>{e.preventDefault(),De(Ve.current.value)},shippingRef:Ve,globalSetting:He,currentPage:ue}}},663:function(e,t,a){"use strict";var s=a(35),n=a(0),l=a.n(n),c=a(64),r=a(12),o=a(654),i=a(53),d=a(91),u=a(644),p=a(649),g=a(661),b=a(645),m=a(646),j=a(633),h=a(651),x=a(647),O=a(648),y=a(15),f=a(2);const v=e=>{let{allId:t,id:a,ids:l,setIsCheck:v,category:w,title:C,useParamId:N}=e;const{isModalOpen:S,closeModal:T,setIsUpdate:k}=Object(n.useContext)(i.a),{setServiceId:A}=Object(h.a)(),D=Object(r.useLocation)(),[P,I]=Object(n.useState)(!1),{t:L}=Object(j.a)();return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(s.Modal,{isOpen:S,onClose:T,children:[Object(f.jsxs)(s.ModalBody,{className:"text-center custom-modal px-8 pt-6 pb-4",children:[Object(f.jsx)("span",{className:"flex justify-center text-3xl mb-6 text-red-500",children:Object(f.jsx)(c.r,{})}),Object(f.jsxs)("h2",{className:"text-xl font-medium mb-2",children:[L("DeleteModalH2")," ",Object(f.jsx)("span",{className:"text-red-500",children:C}),"?"]}),Object(f.jsx)("p",{children:L("DeleteModalPtag")})]}),Object(f.jsxs)(s.ModalFooter,{className:"justify-center",children:[Object(f.jsx)(s.Button,{className:"w-full sm:w-auto hover:bg-white hover:border-gray-50",layout:"outline",onClick:T,children:L("modalKeepBtn")}),Object(f.jsx)("div",{className:"flex justify-end",children:P?Object(f.jsxs)(s.Button,{disabled:!0,type:"button",className:"w-full h-12 sm:w-auto",children:[Object(f.jsx)("img",{src:o.a,alt:"Loading",width:20,height:10})," ",Object(f.jsx)("span",{className:"font-serif ml-2 font-light",children:L("Processing")})]}):Object(f.jsx)(s.Button,{onClick:async()=>{try{if(I(!0),"/products"===D.pathname)if(l){const e=await m.a.deleteManyProducts({ids:l});k(!0),Object(y.c)(e.message),v([]),A(),T(),I(!1)}else{const e=await m.a.deleteProduct(a);k(!0),Object(y.c)(e.message),A(),T(),I(!1)}if("/coupons"===D.pathname)if(l){const e=await p.a.deleteManyCoupons({ids:l});k(!0),Object(y.c)(e.message),v([]),A(),T(),I(!1)}else{const e=await p.a.deleteCoupon(a);k(!0),Object(y.c)(e.message),A(),T(),I(!1)}if("/categories"===D.pathname||w)if(l){console.log("delete modal categorices",l);const e=await u.a.deleteManyCategory({ids:l});console.log("delete many category res",e),k(!0),Object(y.c)(e.message),v([]),A(),T(),I(!1)}else{const e=await u.a.deleteCategory(a);console.log("delete modal categorices",a),k(!0),Object(y.c)(e.message),T(),A(),I(!1)}if("/customers"===D.pathname){const e=await g.a.deleteCustomer(a);k(!0),Object(y.c)(e.message),A(),T(),I(!1)}if("/attributes"===D.pathname)if(l){const e=await x.a.deleteManyAttribute({ids:l});console.log("Delete many attributes response:",e),k(!0),Object(y.c)(e.message),v([]),A(),T(),I(!1)}else{console.log("Deleting attribute with ID:",a);const e=await x.a.deleteAttribute(a);console.log("Delete attribute response:",e),k(!0),Object(y.c)(e.message),A(),T(),I(!1)}if(D.pathname===`/attributes/${D.pathname.split("/")[2]}`)if(l){console.log("Deleting many child attributes with IDs:",l);const e=await x.a.deleteManyChildAttribute({id:D.pathname.split("/")[2],ids:l});console.log("Delete many child attributes response:",e),k(!0),Object(y.c)(e.message),A(),v([]),T(),I(!1)}else{console.log("Deleting child attribute with ID:",a),console.log("Parent attribute ID:",D.pathname.split("/")[2]);const e=await x.a.deleteChildAttribute({id:a,ids:D.pathname.split("/")[2]});console.log("Delete child attribute response:",e),k(!0),Object(y.c)(e.message),A(),T(),I(!1)}if("/our-staff"===D.pathname){const e=await d.a.deleteStaff(a);k(!0),Object(y.c)(e.message),A(),T(),I(!1)}if("/languages"===D.pathname)if(l){const e=await b.a.deleteManyLanguage({ids:l});k(!0),Object(y.c)(e.message),v([]),T(),I(!1)}else{const e=await b.a.deleteLanguage(a);k(!0),Object(y.c)(e.message),A(),T(),I(!1)}if("/currencies"===D.pathname)if(l){const e=await O.a.deleteManyCurrency({ids:l});k(!0),Object(y.c)(e.message),v([]),T(),I(!1)}else{const e=await O.a.deleteCurrency(a);k(!0),Object(y.c)(e.message),A(),T(),I(!1)}}catch(s){var e,t;Object(y.b)(s?null===s||void 0===s||null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message:null===s||void 0===s?void 0:s.message),A(),v([]),T(),I(!1)}},className:"w-full h-12 sm:w-auto",children:L("modalDeletBtn")})})]})]})})};t.a=l.a.memo(v)},664:function(e,t,a){"use strict";a(0);var s=a(2);t.a=e=>{let{id:t,name:a,type:n,handleClick:l,isChecked:c}=e;return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("input",{id:t,name:a,type:n,onChange:l,checked:c})})}},665:function(e,t,a){"use strict";a(0);var s=a.p+"static/media/no-result.ec22e94c.svg",n=a(2);t.a=e=>{let{title:t}=e;return Object(n.jsxs)("div",{className:"text-center align-middle mx-auto p-5 my-5",children:[Object(n.jsx)("img",{className:"my-4",src:s,alt:"no-result",width:"400"}),Object(n.jsxs)("h2",{className:"text-lg md:text-xl lg:text-2xl xl:text-2xl text-center mt-2 font-medium font-serif text-gray-600",children:["Sorry, we can not find this ",t,Object(n.jsx)("span",{role:"img","aria-labelledby":"img",children:"\ud83d\ude1e"})]})]})}},666:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var s=a(0),n=a.n(s);const l=n.a.createContext({}),c=!0;function r(e){let{baseColor:t,highlightColor:a,width:s,height:n,borderRadius:l,circle:r,direction:o,duration:i,enableAnimation:d=c}=e;const u={};return"rtl"===o&&(u["--animation-direction"]="reverse"),"number"===typeof i&&(u["--animation-duration"]=`${i}s`),d||(u["--pseudo-element-display"]="none"),"string"!==typeof s&&"number"!==typeof s||(u.width=s),"string"!==typeof n&&"number"!==typeof n||(u.height=n),"string"!==typeof l&&"number"!==typeof l||(u.borderRadius=l),r&&(u.borderRadius="50%"),"undefined"!==typeof t&&(u["--base-color"]=t),"undefined"!==typeof a&&(u["--highlight-color"]=a),u}function o(e){let{count:t=1,wrapper:a,className:s,containerClassName:o,containerTestId:i,circle:d=!1,style:u,...p}=e;var g,b,m;const j=n.a.useContext(l),h={...p};for(const[n,l]of Object.entries(p))"undefined"===typeof l&&delete h[n];const x={...j,...h,circle:d},O={...u,...r(x)};let y="react-loading-skeleton";s&&(y+=` ${s}`);const f=null!==(g=x.inline)&&void 0!==g&&g,v=[],w=Math.ceil(t);for(let l=0;l<w;l++){let e=O;if(w>t&&l===w-1){const a=null!==(b=e.width)&&void 0!==b?b:"100%",s=t%1,n="number"===typeof a?a*s:`calc(${a} * ${s})`;e={...e,width:n}}const a=n.a.createElement("span",{className:y,style:e,key:l},"\u200c");f?v.push(a):v.push(n.a.createElement(n.a.Fragment,{key:l},a,n.a.createElement("br",null)))}return n.a.createElement("span",{className:o,"data-testid":i,"aria-live":"polite","aria-busy":null!==(m=x.enableAnimation)&&void 0!==m?m:c},a?v.map(((e,t)=>n.a.createElement(a,{key:t},e))):v)}},668:function(e,t,a){"use strict";var s=a(0),n=a(35),l=a(633),c=a(53),r=a(654),o=a(2);t.a=e=>{let{id:t,title:a,isSubmitting:i}=e;const{t:d}=Object(l.a)(),{toggleDrawer:u,isDrawerOpen:p}=Object(s.useContext)(c.a);return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"fixed z-10 bottom-0 w-full right-0 py-4 lg:py-8 px-6 grid gap-4 lg:gap-6 xl:gap-6 md:flex xl:flex bg-gray-50 border-t border-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",style:{right:!p&&-50},children:[Object(o.jsx)("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:Object(o.jsx)(n.Button,{onClick:u,className:"h-12 bg-white w-full text-red-500 hover:bg-red-50 hover:border-red-100 hover:text-red-600 dark:bg-gray-700 dark:border-gray-700 dark:text-gray-500 dark:hover:bg-gray-800 dark:hover:text-red-700",layout:"outline",children:d("CancelBtn")})}),Object(o.jsx)("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:i?Object(o.jsxs)(n.Button,{disabled:!0,type:"button",className:"w-full h-12",children:[Object(o.jsx)("img",{src:r.a,alt:"Loading",width:20,height:10})," ",Object(o.jsx)("span",{className:"font-serif ml-2 font-light",children:"Processing"})]}):Object(o.jsx)(n.Button,{type:"submit",className:"w-full h-12",children:t?Object(o.jsxs)("span",{children:[d("UpdateBtn")," ",a]}):Object(o.jsxs)("span",{children:["Add ",a]})})})]})})}},669:function(e,t,a){"use strict";var s=a(667),n=a.n(s),l=a(2);t.a=e=>{let{title:t,handleProcess:a,processOption:s}=e;return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"mb-3",children:Object(l.jsxs)("div",{className:"flex flex-wrap items-center",children:[Object(l.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:t}),Object(l.jsx)(n.a,{onChange:a,checked:s,className:"react-switch md:ml-0 ml-3",uncheckedIcon:Object(l.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",fontSize:14,color:"white",paddingRight:5,paddingTop:1},children:"No"}),width:80,height:30,handleDiameter:28,offColor:"#E53E3E",onColor:"#2F855A",checkedIcon:Object(l.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",fontSize:14,color:"white",paddingLeft:8,paddingTop:1},children:"Yes"})})]})})})}},671:function(e,t,a){"use strict";var s=a(167),n=a(674),l=a.n(n),c=a(675),r=a(644),o=a(15),i=a(650),d=a(2);t.a=e=>{let{selectedCategory:t,setSelectedCategory:a,setDefaultCategory:n,lang:u}=e;const{data:p,loading:g}=Object(s.a)(null===r.a||void 0===r.a?void 0:r.a.getAllCategory),b=e=>{const s=p.find((t=>t._id===e));if(!s)return;if(t.some((t=>t._id===e)))a((t=>t.filter((t=>t._id!==e)))),a((e=>e.filter((e=>!s.children||!s.children.map((e=>e._id)).includes(e._id)))));else if(a((e=>[...e,{_id:s._id,name:Object(i.a)(null===s||void 0===s?void 0:s.parent,u)}])),s.children&&s.children.length>0){if(Object(o.c)("Do you want to select all children categories?")){const e=s.children.map((e=>({_id:e,name:Object(i.a)(e,u)})));a((t=>[...t,...e]))}}};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"mb-2",children:Object(d.jsx)(l.a,{displayValue:"name",groupBy:"name",isObject:!0,hidePlaceholder:!0,onKeyPressFn:function(){},onRemove:e=>(e=>{a(e)})(e),onSearch:function(){},onSelect:e=>b(e),options:t,selectedValues:t,placeholder:"Select Category"})}),!g&&void 0!==p&&Object(d.jsxs)("div",{className:"draggable-demo capitalize",children:[Object(d.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n  .rc-tree-child-tree {\n    display: block;\n  }\n  .node-motion {\n    transition: all .3s;\n    overflow-y: hidden;\n  }\n"}}),Object(d.jsx)(c.a,{expandAction:"click",treeData:(e=>{let t=[];if(void 0!==e)for(let a of e){let e=[];a.children&&a.children.length>0&&(e=a.children.map((e=>({title:Object(i.a)(e,u),key:e})))),t.push({title:Object(i.a)(null===a||void 0===a?void 0:a.parent,u),key:a._id,children:e})}return t})(p),onSelect:e=>b(e[0]),motion:{motionName:"node-motion",motionAppear:!1,onAppearStart:e=>({height:0}),onAppearActive:e=>({height:e.scrollHeight}),onLeaveStart:e=>({height:e.offsetHeight}),onLeaveActive:()=>({height:0})},animation:"slide-up"})]})]})}},672:function(e,t,a){"use strict";var s=a(35),n=a(0),l=a(666),c=a(2);t.a=e=>{let{row:t=5,col:a=4,width:r=290,height:o=25}=e;const{mode:i}=Object(n.useContext)(s.WindmillContext),d=[];for(let s=1;s<=t;s++)d.push(s);return Object(c.jsxs)(s.TableContainer,{className:"mb-8",children:[Object(c.jsxs)("div",{className:"text-center",children:[Object(c.jsx)(l.a,{height:40,width:r,count:a,inline:!0,className:"mx-1 my-1 dark:bg-gray-800 bg-gray-200",baseColor:""+("dark"===i?"#010101":"#f9f9f9"),highlightColor:("dark"===i?"#1a1c23":"#f8f8f8")+" "}),d.map((e=>Object(c.jsx)("div",{children:Object(c.jsx)(l.a,{height:o,width:r,count:a,inline:!0,className:"mx-1 my-1 dark:bg-gray-800 bg-gray-200",baseColor:""+("dark"===i?"#010101":"#f9f9f9"),highlightColor:("dark"===i?"#1a1c23":"#f8f8f8")+" "})},e)))]}),Object(c.jsxs)(s.TableFooter,{className:"flex justify-between",children:[Object(c.jsx)(l.a,{className:"dark:bg-gray-800 bg-gray-200",baseColor:""+("dark"===i?"#010101":"#f9f9f9"),highlightColor:("dark"===i?"#1a1c23":"#f8f8f8")+" ",height:25,width:290,count:1}),Object(c.jsx)(l.a,{className:"dark:bg-gray-800 bg-gray-200",baseColor:""+("dark"===i?"#010101":"#f9f9f9"),highlightColor:("dark"===i?"#1a1c23":"#f8f8f8")+" ",height:25,width:290,count:1})]})]})}},673:function(e,t,a){"use strict";a(0);var s=a(64),n=a(656),l=a(633),c=a(63),r=a(2);t.a=e=>{let{id:t,title:a,handleUpdate:o,handleModalOpen:i,isCheck:d,product:u,parent:p,children:g}=e;const{t:b}=Object(l.a)();return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"flex justify-end text-right",children:[(null===g||void 0===g?void 0:g.length)>0?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(c.b,{to:`/categories/${t}`,className:"p-2 cursor-pointer text-gray-400 hover:text-green-600 focus:outline-none",children:Object(r.jsx)(n.a,{id:"view",Icon:s.z,title:b("View"),bgColor:"#10B981"})}),Object(r.jsx)("button",{disabled:(null===d||void 0===d?void 0:d.length)>0,onClick:()=>o(t),className:"p-2 cursor-pointer text-gray-400 hover:text-green-600 focus:outline-none",children:Object(r.jsx)(n.a,{id:"edit",Icon:s.g,title:b("Edit"),bgColor:"#10B981"})})]}):Object(r.jsx)("button",{disabled:(null===d||void 0===d?void 0:d.length)>0,onClick:()=>o(t,a),className:"p-2 cursor-pointer text-gray-400 hover:text-green-600 focus:outline-none",children:Object(r.jsx)(n.a,{id:"edit",Icon:s.g,title:b("Edit"),bgColor:"#10B981"})}),Object(r.jsx)("button",{disabled:(null===d||void 0===d?void 0:d.length)>0,onClick:()=>i(t,a,u),className:"p-2 cursor-pointer text-gray-400 hover:text-red-600 focus:outline-none",children:Object(r.jsx)(n.a,{id:"delete",Icon:s.r,title:b("Delete"),bgColor:"#EF4444"})})]})})}},677:function(e,t,a){"use strict";var s=a(35),n=a(2);t.a=e=>{let{register:t,required:a,maxValue:l,minValue:c,defaultValue:r,name:o,label:i,type:d,placeholder:u}=e;const p={valueAsNumber:!0,required:!a&&`${i} is required!`,max:{value:l,message:`Maximum value ${l}!`},min:{value:c,message:`Minimum value ${c}!`},pattern:{value:/^[0-9]*$/,message:`Invalid ${i}!`}};return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"flex flex-row",children:Object(n.jsx)(s.Input,{...t(`${o}`,p),defaultValue:r,type:d,placeholder:u,name:o,className:"bg-gray-50 mr-2 rounded  w-full h-12 p-2 text-sm border border-gray-300 focus:bg-white focus:border-gray-300 focus:outline-none"})})})}},680:function(e,t,a){"use strict";var s=a(35),n=(a(0),a(2));t.a=e=>{let{register:t,name:a,label:l,placeholder:c,required:r,type:o,value:i}=e;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(s.Textarea,{className:"border text-sm focus:outline-none block w-full bg-gray-100 border-transparent focus:bg-white",...t(`${a}`,{required:!r&&`${l} is required!`}),type:o,placeholder:c,name:a,value:i,rows:"4",spellCheck:"false"})})}},684:function(e,t,a){"use strict";var s=a(0),n=a(667),l=a.n(n),c=a(12),r=a(53),o=a(647),i=a(644),d=a(649),u=a(648),p=a(645),g=a(646),b=a(15),m=a(2);t.a=e=>{let{id:t,status:a,category:n,currencyStatusName:j}=e;const h=Object(c.useLocation)(),{setIsUpdate:x}=Object(s.useContext)(r.a);return Object(m.jsx)(l.a,{onChange:()=>(async e=>{try{let t;if(t="show"===a?"hide":"show","/categories"===h.pathname||n){const a=await i.a.updateStatus(e,{status:t});x(!0),Object(b.c)(a.message)}if("/products"===h.pathname){const a=await g.a.updateStatus(e,{status:t});x(!0),Object(b.c)(a.message)}if("/languages"===h.pathname){const a=await p.a.updateStatus(e,{status:t});console.log("status :",t),x(!0),Object(b.c)(a.message)}if("/currencies"===h.pathname)if("status"===j){const a=await u.a.updateEnabledStatus(e,{status:t});x(!0),Object(b.c)(a.message)}else{const a=await u.a.updateLiveExchangeRateStatus(e,{live_exchange_rates:t});x(!0),Object(b.c)(a.message)}if("/attributes"===h.pathname){const a=await o.a.updateStatus(e,{status:t});x(!0),Object(b.c)(a.message)}if(h.pathname===`/attributes/${h.pathname.split("/")[2]}`){const a=await o.a.updateChildStatus(e,{status:t});x(!0),Object(b.c)(a.message)}if("/coupons"===h.pathname){console.log("coupns",e);const a=await d.a.updateStatus(e,{status:t});x(!0),Object(b.c)(a.message)}if("/our-staff"===h.pathname){const a=await d.a.updateStaffStatus(e,{status:t});x(!0),Object(b.c)(a.message)}}catch(l){var t,s;Object(b.b)(l?null===l||void 0===l||null===(t=l.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message:null===l||void 0===l?void 0:l.message)}})(t),checked:"show"===a,className:"react-switch md:ml-0",uncheckedIcon:Object(m.jsx)("div",{style:{display:"flex",alignItems:"center",height:"100%",width:120,fontSize:14,color:"white",paddingRight:22,paddingTop:1}}),width:30,height:15,handleDiameter:13,offColor:"#E53E3E",onColor:"#2F855A",checkedIcon:Object(m.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:73,height:"100%",fontSize:14,color:"white",paddingLeft:20,paddingTop:1}})})}},685:function(e,t,a){"use strict";var s=a(716),n=a(35),l=a(671),c=a(90),r=a(677),o=a(65),i=a(669),d=a(680),u=a(660),p=a(53),g=a(0),b=a(168),m=a(12),j=a(647),h=a(644),x=a(649),O=a(648),y=a(645),f=a(646),v=a(15);var w=function(e){let t=arguments.length>2?arguments[2]:void 0;const[a,s]=Object(g.useState)(""),[n,l]=Object(g.useState)([]),[c,r]=Object(g.useState)([]),o=Object(m.useLocation)(),[i,d]=Object(g.useState)(""),[u,w]=Object(g.useState)(!0),[C,N]=Object(g.useState)(!0),[S,T]=Object(g.useState)([]),[k,A]=Object(g.useState)([]),[D,P]=Object(g.useState)(!1),[I,L]=Object(g.useState)(""),{isBulkDrawerOpen:$,closeBulkDrawer:M,setIsUpdate:_}=Object(g.useContext)(p.a),{register:B,handleSubmit:R,watch:F,setValue:E,clearErrors:U,formState:{errors:V}}=Object(b.a)();return Object(g.useEffect)((()=>{if(!$)return E("parent"),E("children"),E("type"),E("show"),E("name"),s(""),l([]),U("parent"),U("children"),U("type"),U("name"),E("name"),E("iso_code"),E("call_prefix"),E("currency"),E("zone"),U("name"),U("iso_code"),U("call_prefix"),U("currency"),U("zone"),U("status"),E("name"),E("iso_code"),E("country"),E("zone"),E("description"),U("name"),U("iso_code"),U("country"),U("zone"),U("status"),U("show"),U("description"),A([]),void T([])}),[E,$,U]),Object(g.useEffect)((()=>{s(F("children"))}),[F,a]),{register:B,watch:F,handleSubmit:R,onSubmit:async a=>{console.log("data",a);try{var s;const l={ids:e,categories:null===S||void 0===S?void 0:S.map((e=>e._id)),category:null===(s=k[0])||void 0===s?void 0:s._id,productType:[D?"food":"others"],quantity:a.quantity,tag:Array.isArray(a.tag)?a.tag:[],status:u?"show":"hide",tag:JSON.stringify(n)},c={ids:e,status:u?"show":"hide"},r={ids:e,status:u?"show":"hide",live_exchange_rates:C?"show":"hide"},d={ids:e,parentId:i,description:a.description,parentName:I,status:u?"show":"hide"},p={ids:e,option:a.option,status:u?"show":"hide"},g={ids:e,currentId:t,changeId:a.groupName,status:u?"show":"hide"},b={ids:e,startTime:a.startTime,endTime:a.endTime,status:u?"show":"hide"};if("/products"===o.pathname){console.log("productData",l);const e=await f.a.updateManyProducts(l);_(!0),Object(v.c)(e.message),M()}if("/coupons"===o.pathname){const e=await x.a.updateManyCoupons(b);_(!0),Object(v.c)(e.message),M()}if("/languages"===o.pathname){const e=await y.a.updateManyLanguage(c);_(!0),Object(v.c)(e.message),M(),console.log("languages update Many")}if("/currencies"===o.pathname){const e=await O.a.updateManyCurrencies(r);_(!0),Object(v.c)(e.message),M()}if("/categories"===o.pathname||o.pathname===`/categories/${t}`){const e=await h.a.updateManyCategory(d);_(!0),Object(v.c)(e.message),M()}if("/attributes"===o.pathname){const e=await j.a.updateManyAttribute(p);_(!0),Object(v.c)(e.message),M()}if(o.pathname===`/attributes/${o.pathname.split("/")[2]}`){const e=await j.a.updateManyChildAttribute(g);_(!0),Object(v.c)(e.message),M()}}catch(r){var l,c;console.log("err on bulk action",r),Object(v.b)(r?null===r||void 0===r||null===(l=r.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message:r.message)}},errors:V,tag:n,setTag:l,quantityy:c,setQuantity:r,published:u,setPublished:w,published2:C,setPublished2:N,checked:i,setChecked:d,selectedCategory:S,setSelectedCategory:T,defaultCategory:k,setDefaultCategory:A,selectCategoryName:I,setSelectCategoryName:L,isFoodItem:D,setIsFoodItem:P}},C=a(66),N=a(674),S=a.n(N),T=a(676),k=a(675),A=a(670),D=a(64),P=a(650),I=a(2);t.a=e=>{let{ids:t,title:a,lang:b,data:m,childId:j,attributes:h,isCheck:x}=e;const{toggleBulkDrawer:O,isBulkDrawerOpen:y,closeBulkDrawer:f}=Object(g.useContext)(p.a),{tag:N,setTag:L,published:$,register:M,onSubmit:_,errors:B,checked:R,setChecked:F,resetRefTwo:E,handleSubmit:U,setPublished:V,selectedCategory:q,setSelectedCategory:z,defaultCategory:J,setDefaultCategory:Z,selectCategoryName:H,setSelectCategoryName:G,setQuantity:Y,quantityy:K}=w(t,b,j),Q={motionName:"node-motion",motionAppear:!1,onAppearStart:e=>({height:0}),onAppearActive:e=>({height:e.scrollHeight}),onLeaveStart:e=>({height:e.offsetHeight}),onLeaveActive:()=>({height:0})},W=e=>{let t=[];if(void 0!==e)for(let a of e){let e=[];a.children&&a.children.length>0&&(e=a.children.map((e=>({title:Object(P.a)(e,b),key:e})))),t.push({title:Object(P.a)(null===a||void 0===a?void 0:a.parent,b),key:a._id,children:e})}return t},X=(e,t)=>{var a;return e._id===t?e:null===e||void 0===e||null===(a=e.children)||void 0===a?void 0:a.reduce(((e,a)=>null!==e&&void 0!==e?e:X(a,t)),void 0)},ee=e=>{var t,a;const s=null===x||void 0===x?void 0:x.find((t=>t===e));if((null===x||void 0===x?void 0:x.length)===(null===(t=m[0])||void 0===t||null===(a=t.children)||void 0===a?void 0:a.length))return Object(v.b)("This can't be select as a parent category!");if(void 0!==s)return Object(v.b)("This can't be select as a parent category!");if(e===j)return Object(v.b)("This can't be select as a parent category!");{if(void 0===e)return;F(e);const t=m[0],a=X(t,e);G(Object(P.a)(null===a||void 0===a?void 0:a.name,b))}},te="\n  .rc-tree-child-tree {\n    display: hidden;\n  }\n  .node-motion {\n    transition: all .3s;\n    overflow-y: hidden;\n  }\n";return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(T.a,{open:y,onClose:f,parent:null,level:null,placement:"right",children:[Object(I.jsx)("button",{onClick:O,className:"absolute focus:outline-none z-50 text-red-500 hover:bg-red-100 hover:text-gray-700 transition-colors duration-150 bg-white shadow-md mr-6 mt-6 right-0 left-auto w-10 h-10 rounded-full block text-center",children:Object(I.jsx)(D.x,{className:"mx-auto"})}),Object(I.jsxs)("div",{className:"flex flex-col w-full h-full justify-between",children:[Object(I.jsx)("div",{className:"w-full relative p-6 border-b border-gray-100 bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:Object(I.jsx)(u.a,{title:`Update Selected ${a}`,description:`Apply changes to the selected ${a} from the list`})}),Object(I.jsx)(A.Scrollbars,{className:"w-full md:w-7/12 lg:w-8/12 xl:w-8/12 relative dark:bg-gray-700 dark:text-gray-200",children:Object(I.jsxs)("form",{onSubmit:U(_),className:"block",children:[Object(I.jsxs)("div",{className:"px-6 pt-8 flex-grow w-full h-full max-h-full pb-40 md:pb-32 lg:pb-32 xl:pb-32",children:["Products"===a&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(o.a,{label:"Categorys"}),Object(I.jsx)("div",{className:"col-span-8 sm:col-span-4",children:Object(I.jsx)(l.a,{lang:b,selectedCategory:q,setSelectedCategory:z,setDefaultCategory:Z})})]}),Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(o.a,{label:"Default Category"}),Object(I.jsx)("div",{className:"col-span-8 sm:col-span-4",children:Object(I.jsx)(S.a,{displayValue:"name",isObject:!0,singleSelect:!0,ref:E,hidePlaceholder:!0,onKeyPressFn:function(){},onRemove:function(){},onSearch:function(){},onSelect:e=>Z(e),selectedValues:J,options:q,placeholder:"Default Category"})})]}),Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(o.a,{label:"Published"}),Object(I.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(I.jsx)(i.a,{handleProcess:V,processOption:$}),Object(I.jsx)(c.a,{errorName:B.status})]})]}),Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(o.a,{label:"Product Tags"}),Object(I.jsx)("div",{className:"col-span-8 sm:col-span-4",children:Object(I.jsx)(s.a,{placeholder:"Product Tag (Write then press enter to add new tag )",tags:N,onChange:e=>L(e)})})]}),Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6 relative",children:[Object(I.jsx)(o.a,{label:Object(C.b)("ProductQuantity")}),Object(I.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(I.jsx)(r.a,{register:M,minValue:0,label:"Quantity",name:"stock",type:"number",placeholder:Object(C.b)("ProductQuantity"),quantity:K,onChange:e=>Y(e),required:!1}),Object(I.jsx)(c.a,{errorName:B.stock})]})]})]}),"Coupons"===a&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(o.a,{label:"Start Time"}),Object(I.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(I.jsx)(n.Input,{...M("startTime",{required:"Coupon Validation Start Time"}),label:"Coupon Validation Start Time",name:"startTime",type:"datetime-local",placeholder:"Start Time",className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white"}),Object(I.jsx)(c.a,{errorName:B.startTime})]})]}),Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(o.a,{label:"End Time"}),Object(I.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(I.jsx)(n.Input,{...M("endTime",{required:"Coupon Validation End Time"}),label:"Coupon Validation End Time",name:"endTime",type:"datetime-local",placeholder:"End Time",className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white"}),Object(I.jsx)(c.a,{errorName:B.endTime})]})]}),Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(o.a,{label:"Published"}),Object(I.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(I.jsx)(i.a,{handleProcess:V,processOption:$}),Object(I.jsx)(c.a,{errorName:B.published})]})]})]}),"Languages"===a&&Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(o.a,{label:"Published"}),Object(I.jsx)("div",{className:"col-span-8 sm:col-span-4",children:Object(I.jsx)(i.a,{title:"",processOption:$,handleProcess:V})})]})}),"Currencies"===a&&Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(o.a,{label:"Enabled"}),Object(I.jsx)("div",{className:"col-span-8 sm:col-span-4",children:Object(I.jsx)(i.a,{title:"",processOption:$,handleProcess:V})})]})}),"Categories"===a&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(o.a,{label:"Description"}),Object(I.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(I.jsx)(d.a,{required:!0,register:M,label:"Description",name:"description",type:"text",placeholder:"Category Description"}),Object(I.jsx)(c.a,{errorName:B.description})]})]}),Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(o.a,{label:"Parent Category"}),Object(I.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(I.jsx)(n.Input,{readOnly:!0,...M("parent",{required:!1}),name:"parent",value:H||"Home",placeholder:"parent category",type:"text",className:"border h-12 w-full text-sm focus:outline-none block bg-gray-100 dark:bg-white border-transparent focus:bg-white"}),Object(I.jsxs)("div",{className:"draggable-demo capitalize",children:[Object(I.jsx)("style",{dangerouslySetInnerHTML:{__html:te}}),Object(I.jsx)(k.a,{treeData:W(m),selectedKeys:[R],onSelect:e=>ee(e[0]),motion:Q,animation:"slide-up"})]})]})]}),Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(o.a,{label:"Published"}),Object(I.jsx)("div",{className:"col-span-8 sm:col-span-4",children:Object(I.jsx)(i.a,{title:"",processOption:$,handleProcess:V})})]})]}),"Child Categories"===a&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(o.a,{label:"Description"}),Object(I.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(I.jsx)(d.a,{required:!0,register:M,label:"Description",name:"description",type:"text",placeholder:"Category Description"}),Object(I.jsx)(c.a,{errorName:B.description})]})]}),Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(o.a,{label:"Parent Category"}),Object(I.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(I.jsx)(n.Input,{readOnly:!0,...M("parent",{required:!1}),name:"parent",value:H||"Home",placeholder:"parent category",type:"text",className:"border h-12 w-full text-sm focus:outline-none block bg-gray-100 dark:bg-white border-transparent focus:bg-white"}),Object(I.jsxs)("div",{className:"draggable-demo capitalize",children:[Object(I.jsx)("style",{dangerouslySetInnerHTML:{__html:te}}),Object(I.jsx)(k.a,{treeData:W(m),selectedKeys:[R],onSelect:e=>ee(e[0]),motion:Q,animation:"slide-up"})]})]})]}),Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(o.a,{label:"Published"}),Object(I.jsx)("div",{className:"col-span-8 sm:col-span-4",children:Object(I.jsx)(i.a,{title:"",processOption:$,handleProcess:V})})]})]}),"Attributes"===a&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(o.a,{label:"Options"}),Object(I.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(I.jsxs)(n.Select,{className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white",name:"option",...M("option",{required:"Option is required!"}),children:[Object(I.jsx)("option",{value:"",defaultValue:!0,hidden:!0,children:"Select type"}),Object(I.jsx)("option",{value:"Dropdown",children:"Dropdown"}),Object(I.jsx)("option",{value:"Radio",children:"Radio"})]}),Object(I.jsx)(c.a,{errorName:B.option})]})]}),Object(I.jsx)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:Object(I.jsx)("div",{className:"col-span-8 sm:col-span-4"})})]}),"Attribute Value(s)"===a&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(o.a,{label:"Change Attribute Group"}),Object(I.jsxs)("div",{className:"col-span-8 sm:col-span-4",children:[Object(I.jsxs)(n.Select,{className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white",name:"groupName",...M("groupName",{required:!1}),children:[Object(I.jsx)("option",{value:"",defaultValue:!0,hidden:!0,children:"Select Attribute Group"}),h&&h.length>0?h.map(((e,t)=>Object(I.jsx)("option",{value:e._id,children:Object(P.a)(null===e||void 0===e?void 0:e.name.en,b)},t+1))):Object(I.jsx)("option",{value:"",disabled:!0,children:"No attribute groups available"})]}),Object(I.jsx)(c.a,{errorName:B.groupName})]})]}),Object(I.jsxs)("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[Object(I.jsx)(o.a,{label:"Published"}),Object(I.jsx)("div",{className:"col-span-8 sm:col-span-4",children:Object(I.jsx)(i.a,{title:"",processOption:$,handleProcess:V})})]})]})]}),Object(I.jsxs)("div",{className:"fixed bottom-0 w-full right-0 py-4 lg:py-8 px-6 grid gap-4 lg:gap-6 xl:gap-6 md:flex xl:flex bg-gray-50 border-t border-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:[Object(I.jsx)("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:Object(I.jsx)(n.Button,{onClick:O,className:"h-12 bg-white w-full text-red-500 hover:bg-red-50 hover:border-red-100 hover:text-red-600 dark:bg-gray-700 dark:border-gray-700 dark:text-gray-500 dark:hover:bg-gray-800 dark:hover:text-red-700",layout:"outline",children:"Cancel"})}),Object(I.jsx)("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:Object(I.jsxs)(n.Button,{type:"submit",className:"w-full h-12",children:[" ","Bulk Update ",a]})})]})]})})]})]})})}},708:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return l}));var s=a(89);const n=(e,t)=>s(e).format(t),l=(e,t,a)=>s(e).format(`${t} ${a}`)},846:function(e,t,a){"use strict";var s=a(35),n=a(2);t.a=e=>{let{register:t,required:a,maxValue:l,minValue:c,defaultValue:r,name:o,label:i,type:d,placeholder:u,currency:p,product:g}=e;const b={valueAsNumber:!0,required:!a&&`${i} is required!`,max:{value:l,message:`Maximum value ${l}!`},min:{value:c,message:`Minimum value ${c}!`},pattern:{value:/^[0-9]*$/,message:`Invalid ${i}!`}};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"flex flex-row",children:[g&&Object(n.jsx)("span",{className:"inline-flex items-center px-3 rounded rounded-r-none border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm focus:bg-white focus:border-green-300 dark:bg-gray-700 dark:text-gray-300 dark:border dark:border-gray-600",children:p}),Object(n.jsx)(s.Input,{...t(`${o}`,b),defaultValue:r,type:d,placeholder:u,name:o,step:.01,className:`bg-gray-50 mr-2 rounded w-full h-12 p-2 text-sm border border-gray-300 focus:bg-white focus:border-gray-300 focus:outline-none ${g&&"rounded-l-none"}`})]})})}}}]);
//# sourceMappingURL=19.7b40ab57.chunk.js.map